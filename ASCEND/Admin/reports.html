<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ASCEND ‚Ä¢ Reports</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
       <div class="brand">
        <div class="logo" aria-label="ASCEND Logo">
            <img src="assets/images/logoAB.png" alt="ASCEND Logo" />
        </div>
      </div>
      <nav class="nav">
        <a href="dashboard.html"><span class="icon">üè†</span><span class="label">Dashboard</span></a>
        <a href="accounts.html"><span class="icon">üë§</span><span class="label">Accounts</span></a>
        <a href="transactions.html"><span class="icon">üîÅ</span><span class="label">Transactions</span></a>
        <a class="active" href="reports.html"><span class="icon">üìä</span><span class="label">Reports</span></a>
        <div class="spacer"></div>
        <div class="settings">
          <a href="settings.html    "><span class="icon">‚öôÔ∏è</span><span class="label">Settings</span></a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <div class="topbar">
        <button class="menu-btn" id="menuBtn" title="Toggle menu">‚ò∞</button>
        <div class="crumb">Reports</div>
        <div class="search">
          
        </div>
        <div class="toolbar">
         
         
          <div class="pill" title="Profile">
                        <span id="userAvatar" class="avatar">JD</span>
                        <span id="userName" class="name">John Doe</span>
          </div>
        </div>
      </div>
       <!-- Reports Section -->
           

                <!-- Chart Section -->
                <div class="chart-section">
                    <div class="chart-header-wrapper">
                        <div class="chart-header">Total Transactions Per Month</div>
                        <div class="date-filter-wrapper">
                            <label for="yearFilter">Year:</label>
                            <select id="yearFilter" class="year-filter-select">
                                <!-- Years will be populated by JavaScript -->
                            </select>
                            <label for="transactionTypeFilter" style="margin-left: 15px;">Type:</label>
                            <select id="transactionTypeFilter" class="year-filter-select">
                                <option value="">All Types</option>
                                <option value="Deposit">Deposit</option>
                                <option value="Transfer">Transfer</option>
                                <option value="Withdraw">Withdraw</option>
                                <option value="Withdraw">Pay bills</option>
                            </select>
                            <button id="applyYearFilter" class="filter-btn">Apply Filter</button>
                            <button id="resetYearFilter" class="filter-btn reset-btn">Reset</button>
                        </div>
                    </div>
                    <div class="line-chart-container">
                        <div class="y-axis">
                            <span>0</span>
                        </div>
                        <div class="chart-area">
                            <svg class="line-chart-svg" viewBox="0 0 1200 440" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
                                <!-- Grid lines will be drawn here -->
                                <g class="grid-lines"></g>
                                <!-- Line path will be drawn here -->
                                <path class="line-path" fill="none" stroke="rgb(245, 112, 64)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                <!-- Data points will be drawn here -->
                                <g class="data-points"></g>
                                <!-- Month labels will be drawn here -->
                                <g class="month-labels"></g>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- View Reports Button -->
                <div style="margin-top: 20px; text-align: center;">
                    <button id="viewReportsBtn" class="view-reports-btn" style="padding: 12px 24px; background: var(--grad); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: var(--transition); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        View Transaction Reports
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Transaction Reports Modal -->
    <div class="modal-overlay" id="reportsModalOverlay">
        <div class="modal-container" style="max-width: 90%; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2>Transaction Reports</h2>
                <button class="modal-close" id="reportsModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="reports-table-section">
                    <div class="reports-table-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid var(--accent);">
                        <h2 style="margin: 0;">Transaction Reports</h2>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <label for="modalTransactionTypeFilter" style="font-weight: 500;">Filter by Type:</label>
                                <select id="modalTransactionTypeFilter" style="padding: 6px 12px; border-radius: 6px; border: 1px solid var(--border-color); background-color: #fff; cursor: pointer;">
                                    <option value="">All Types</option>
                                    <option value="Deposit">Deposit</option>
                                    <option value="Transfer">Transfer</option>
                                    <option value="Withdraw">Withdraw</option>
                                    <option value="Withdraw">Pay bills</option>
                                </select>
                            </div>
                            <div class="export-buttons" style="display: flex; gap: 10px;">
                                <button id="exportPdfBtn" class="btn" style="padding: 8px 16px; background: #dc3545; color: white; border: none; border-radius: 6px; cursor: pointer;">PDF</button>
                            </div>
                        </div>
                    </div>
                    <table class="reports-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Account No.</th>
                                <th>Activity</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody id="reportsTableBody">
                            <!-- Transaction rows will be inserted here by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/darkmode.js"></script>
    <script src="assets/js/reports.js"></script>
</body>
</html>